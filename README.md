Here's a sample README for running the `inference.py` script:

---

# Inference Script

This repository provides a script to process images with OCR and refine the text using a language model (LLM). The script can also interact directly with the LLM for general chat tasks by accepting a custom prompt.

## Requirements

- Python 3.x
- Necessary Python packages (as specified in `requirements.txt` or your environment setup)

## Usage

The `inference.py` script can perform two types of tasks:

1. **OCR Task**: Extracts text from an image using OCR and refines it with the LLM to correct spelling.
2. **Chat Task**: Sends a prompt directly to the LLM for a general response.

### Command-line Arguments

- `--image_path`: Path to the image file to process (required for `ocr` task).
- `--save_path`: Directory to save the output results (default is `processed_output`).
- `--task`: Specifies the task type. Choose between `ocr` and `chat` (default is `chat`).
- `--prompt`: The prompt to send to the LLM (required for `chat` task).

### Examples

#### 1. Running the OCR Task

To run the script for OCR, provide the `--task ocr` and `--image_path` arguments:

```bash
python inference.py --task ocr --image_path /path/to/image.png
```

This command:
- Reads the image specified by `--image_path`.
- Runs OCR to extract text from the image.
- Refines the extracted text with the LLM to correct spelling.
- Saves the refined text in the directory specified by `--save_path` (default: `processed_output`).

#### 2. Running the Chat Task

To run the script for a chat task, specify `--task chat` and provide a prompt using `--prompt`:

```bash
python inference.py --task chat --prompt "Explain the impact of AI on modern journalism."
```

This command:
- Sends the provided prompt directly to the LLM.
- Outputs the response to the terminal and saves it in the `save_path` directory.

### Script Output

- For the `ocr` task, the processed text is saved in the specified `save_path`.
- For the `chat` task, the response is also saved in `save_path` with the output name generated by the system.

## Troubleshooting

- Ensure that `image_path` is provided when using the `ocr` task, and `prompt` is provided when using the `chat` task.
- Make sure that the `DocumentOCR` and `ChatLLM` modules are correctly implemented and accessible.

## License

This project is licensed under the MIT License.